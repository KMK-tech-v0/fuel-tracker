<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Advanced Fuel Control & Forecasting System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <img src="assets/logo.png.jpg" alt="Company Logo" class="logo" id="companyLogo">
                <h1 class="system-title">Advanced Fuel Control & Forecasting System</h1>
            </div>
            <div class="header-actions">
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count" id="notificationCount">0</span>
                </div>
                <div class="user-profile">
                    <i class="fas fa-user-circle"></i>
                    <span>Admin User</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="nav-section">
                <h3>Overview</h3>
                <a href="#" class="nav-item active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-section="forecasting">
                    <i class="fas fa-crystal-ball"></i>
                    <span>Fuel Forecasting</span>
                </a>
            </div>

            <div class="nav-section">
                <h3>Inventory Management</h3>
                <a href="#" class="nav-item" data-section="stock">
                    <i class="fas fa-warehouse"></i>
                    <span>Current Stock</span>
                </a>
                <a href="#" class="nav-item" data-section="equipment">
                    <i class="fas fa-cogs"></i>
                    <span>Equipment</span>
                </a>
                <a href="#" class="nav-item" data-section="operational-hours">
                    <i class="fas fa-clock"></i>
                    <span>Operational Hours</span>
                </a>
            </div>

            <div class="nav-section">
                <h3>Transactions</h3>
                <a href="#" class="nav-item" data-section="refills">
                    <i class="fas fa-gas-pump"></i>
                    <span>Fuel Refills</span>
                </a>
                <a href="#" class="nav-item" data-section="usage">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Fuel Usage</span>
                </a>
            </div>

            <div class="nav-section">
                <h3>Master Data</h3>
                <a href="#" class="nav-item" data-section="sites">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Sites</span>
                </a>
                <a href="#" class="nav-item" data-section="fuel-types">
                    <i class="fas fa-oil-can"></i>
                    <span>Fuel Types</span>
                </a>
                <a href="#" class="nav-item" data-section="suppliers">
                    <i class="fas fa-truck"></i>
                    <span>Suppliers</span>
                </a>
            </div>

            <div class="nav-section">
                <h3>Analytics</h3>
                <a href="#" class="nav-item" data-section="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reports</span>
                </a>
                <a href="#" class="nav-item" data-section="alerts">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Alerts</span>
                </a>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="section-header">
                    <h2><i class="fas fa-chart-line"></i> Dashboard</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="refreshDashboard()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>

                <!-- KPI Cards -->
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-icon">
                            <i class="fas fa-warehouse"></i>
                        </div>
                        <div class="kpi-content">
                            <h3 id="totalSites">0</h3>
                            <p>Active Sites</p>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="kpi-content">
                            <h3 id="totalEquipment">0</h3>
                            <p>Equipment Units</p>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon">
                            <i class="fas fa-gas-pump"></i>
                        </div>
                        <div class="kpi-content">
                            <h3 id="totalFuelStock">0L</h3>
                            <p>Total Fuel Stock</p>
                        </div>
                    </div>
                    <div class="kpi-card critical">
                        <div class="kpi-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="kpi-content">
                            <h3 id="criticalAlerts">0</h3>
                            <p>Critical Alerts</p>
                        </div>
                    </div>
                </div>

                <!-- Charts and Recent Activity -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Stock Levels by Site</h3>
                        </div>
                        <div class="card-content">
                            <canvas id="stockChart"></canvas>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Forecasts</h3>
                        </div>
                        <div class="card-content">
                            <div id="recentForecasts" class="forecast-list"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Fuel Forecasting Section -->
            <section id="forecasting-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-crystal-ball"></i> Fuel Consumption Forecasting</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="calculateAllForecasts()">
                            <i class="fas fa-calculator"></i> Calculate Forecasts
                        </button>
                        <button class="btn btn-secondary" onclick="showForecastInput()">
                            <i class="fas fa-plus"></i> New Scenario
                        </button>
                    </div>
                </div>

                <!-- Forecast Filters -->
                <div class="filters-card">
                    <div class="filter-group">
                        <label>Site:</label>
                        <select id="forecastSiteFilter" onchange="loadForecasts()">
                            <option value="">All Sites</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Forecast Date:</label>
                        <input type="date" id="forecastDateFilter" onchange="loadForecasts()">
                    </div>
                    <div class="filter-group">
                        <label>Safety Factor:</label>
                        <input type="number" id="safetyFactorInput" value="1.2" step="0.1" min="1.0" max="2.0">
                    </div>
                </div>

                <!-- Forecast Results -->
                <div class="forecast-grid">
                    <div class="forecast-card">
                        <div class="card-header">
                            <h3>Current Forecasts</h3>
                        </div>
                        <div class="card-content">
                            <div class="table-container">
                                <table id="forecastsTable" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Site</th>
                                            <th>Fuel Type</th>
                                            <th>Current Stock</th>
                                            <th>Daily Consumption</th>
                                            <th>Days Remaining</th>
                                            <th>Next Refill Date</th>
                                            <th>Confidence</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scenario Planning -->
                <div class="scenario-card" id="scenarioCard" style="display: none;">
                    <div class="card-header">
                        <h3>Scenario Planning</h3>
                        <button class="btn btn-ghost" onclick="hideScenarioCard()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div id="scenarioContent"></div>
                    </div>
                </div>
            </section>

            <!-- Stock Management Section -->
            <section id="stock-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-warehouse"></i> Current Stock Levels</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="refreshStock()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table id="stockTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Site</th>
                                <th>Fuel Type</th>
                                <th>Current Quantity</th>
                                <th>Available Quantity</th>
                                <th>Fill Percentage</th>
                                <th>Status</th>
                                <th>Last Updated</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <!-- Equipment Section -->
            <section id="equipment-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-cogs"></i> Equipment Management</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="showEquipmentForm()">
                            <i class="fas fa-plus"></i> Add Equipment
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table id="equipmentTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Equipment Name</th>
                                <th>Site</th>
                                <th>Type</th>
                                <th>Fuel Type</th>
                                <th>Consumption Rate (L/hr)</th>
                                <th>Manufacturer</th>
                                <th>Model</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <!-- Operational Hours Section -->
            <section id="operational-hours-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-clock"></i> Operational Hours Logging</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="showHoursForm()">
                            <i class="fas fa-plus"></i> Log Hours
                        </button>
                    </div>
                </div>

                <!-- Quick Log Form -->
                <div class="quick-log-card">
                    <div class="card-header">
                        <h3>Quick Log Entry</h3>
                    </div>
                    <div class="card-content">
                        <form id="quickHoursForm" class="form-grid">
                            <div class="form-group">
                                <label>Site:</label>
                                <select id="hoursLogSite" required onchange="loadSiteEquipment()">
                                    <option value="">Select Site</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Equipment:</label>
                                <select id="hoursLogEquipment" required>
                                    <option value="">Select Equipment</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Date:</label>
                                <input type="date" id="hoursLogDate" required>
                            </div>
                            <div class="form-group">
                                <label>Running Hours:</label>
                                <input type="number" id="hoursLogHours" step="0.1" min="0" required>
                            </div>
                            <div class="form-group">
                                <label>Recorded By:</label>
                                <input type="text" id="hoursLogRecordedBy" placeholder="Your name">
                            </div>
                            <div class="form-group">
                                <label>Notes:</label>
                                <textarea id="hoursLogNotes" rows="2" placeholder="Optional notes"></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i> Log Hours
                                </button>
                                <button type="reset" class="btn btn-secondary">
                                    <i class="fas fa-undo"></i> Reset
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Hours History -->
                <div class="table-container">
                    <table id="operationalHoursTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Site</th>
                                <th>Equipment</th>
                                <th>Running Hours</th>
                                <th>Fuel Consumed</th>
                                <th>Recorded By</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <!-- Other sections will be added similarly... -->
            <!-- For brevity, I'll add placeholders for other sections -->
            
            <section id="refills-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-gas-pump"></i> Fuel Refills</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="Refills.load()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table id="refillsTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Date</th>
                                <th>Site</th>
                                <th>Fuel Type</th>
                                <th>Quantity</th>
                                <th>Supplier</th>
                                <th>Unit Cost</th>
                                <th>Total Cost</th>
                                <th>Created By</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <section id="usage-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-tachometer-alt"></i> Fuel Usage</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="Usage.load()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table id="usageTable" class="data-table">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Date</th>
                                <th>Site</th>
                                <th>Fuel Type</th>
                                <th>Equipment</th>
                                <th>Quantity</th>
                                <th>Purpose</th>
                                <th>Operator</th>
                                <th>Created By</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <section id="sites-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-map-marker-alt"></i> Sites Management</h2>
                </div>
                <div class="placeholder-content">
                    <p>Sites management interface will be implemented here.</p>
                </div>
            </section>

            <section id="fuel-types-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-oil-can"></i> Fuel Types</h2>
                </div>
                <div class="placeholder-content">
                    <p>Fuel types management interface will be implemented here.</p>
                </div>
            </section>

            <section id="suppliers-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-truck"></i> Suppliers</h2>
                </div>
                <div class="placeholder-content">
                    <p>Suppliers management interface will be implemented here.</p>
                </div>
            </section>

            <section id="reports-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> Reports & Analytics</h2>
                </div>
                <div class="placeholder-content">
                    <p>Advanced reporting and analytics interface will be implemented here.</p>
                </div>
            </section>

            <section id="alerts-section" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-exclamation-triangle"></i> Alerts & Notifications</h2>
                </div>
                <div class="placeholder-content">
                    <p>Alerts and notifications management interface will be implemented here.</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <img src="assets/footer-logo.gif" alt="Footer Logo" class="footer-logo" id="footerLogo">
                <p>&copy; 2025 Advanced Fuel Control System. All rights reserved.</p>
            </div>
            <div class="footer-right">
                <p>Version 2.0 | Last Updated: <span id="lastUpdated"></span></p>
            </div>
        </div>
    </footer>

    <!-- Modals and Overlays -->
    <div id="modalOverlay" class="modal-overlay">
        <div id="modalContent" class="modal-content">
            <!-- Dynamic modal content will be inserted here -->
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
